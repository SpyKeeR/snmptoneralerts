{
  "version": "1.1.3",
  "release_date": "2025-11-01",
  "glpi_min_version": "11.0.0",
  "glpi_max_version": "11.0.99",
  "php_min_version": "8.2",
  "author": "SpyKeeR",
  "license": "GPL-3.0-or-later",
  "homepage": "https://github.com/SpyKeeR/snmptoneralerts",
  "description": "Plugin GLPI pour la surveillance automatique des niveaux de toners via SNMP avec système d'alertes progressives",
  "tags": ["snmp", "toner", "alerts", "monitoring", "printer", "netinventory"],
  "changes": [
    {
      "type": "improvement",
      "description": "Templates d'emails optimisés pour Outlook 2016 : émojis simples maintenus (🖨️📍🚨), hauteurs d'encarts réduites, design épuré"
    },
    {
      "type": "feature",
      "description": "Traductions françaises complètes des noms et commentaires des templates de notification"
    },
    {
      "type": "improvement",
      "description": "Interface de configuration améliorée : bouton Sauvegarder repositionné, liens ouverts dans l'onglet actuel, colonne 'Actions' supprimée"
    },
    {
      "type": "fix",
      "description": "Correction du caractère parasite '1' à côté du bouton Retirer dans la liste des imprimantes exclues"
    },
    {
      "type": "fix",
      "description": "Correction de l'alignement du bouton Retirer dans le tableau des exclusions"
    },
    {
      "type": "improvement",
      "description": "Implémentation des créneaux horaires (hourmin/hourmax) pour les CronTasks SendDailyAlerts (6h-8h) et SendWeeklyRecap (12h-14h)"
    },
    {
      "type": "documentation",
      "description": "Documentation complète des créneaux horaires dans README.md et INSTALL.md avec instructions pour choisir le jour d'exécution hebdomadaire"
    },
    {
      "type": "improvement",
      "description": "Configuration crontab système maintenant optionnelle grâce aux créneaux horaires GLPI natifs"
    },
    {
      "type": "feature",
      "description": "Interface complète de gestion des exclusions d'imprimantes directement dans la page de configuration"
    },
    {
      "type": "improvement",
      "description": "Filtrage automatique des imprimantes supprimées (is_deleted=1) dans les CronTasks SendDailyAlerts et SendWeeklyRecap"
    },
    {
      "type": "improvement",
      "description": "Réorganisation de l'interface : section exclusions affichée avant les paramètres de configuration"
    },
    {
      "type": "improvement",
      "description": "Seuil d'alerte par défaut réduit de 20% à 5% pour une détection plus précoce"
    },
    {
      "type": "improvement",
      "description": "Liens de configuration rapide avec filtres de recherche automatiques vers CronTasks, Notifications et Templates"
    },
    {
      "type": "improvement",
      "description": "Amélioration visuelle des boutons de configuration rapide (plus grands, espacement optimisé)"
    },
    {
      "type": "breaking",
      "description": "Architecture des notifications basée sur TonerAlert (itemtype personnalisé) pour meilleure conformité avec GLPI"
    },
    {
      "type": "feature",
      "description": "Message-ID RFC-compliant : remplacement des backslashes par des points (GlpiPlugin.Snmptoneralerts.TonerAlert)"
    },
    {
      "type": "feature",
      "description": "Affichage des noms de cartouches + références dans les notifications (ex: HP 305A (Ref: CE410A))"
    },
    {
      "type": "feature",
      "description": "Support des cartouches tri-color : fallback automatique si couleur spécifique non trouvée"
    },
    {
      "type": "improvement",
      "description": "Interface de configuration simplifiée avec liens directs vers Notifications, Actions automatiques et Templates GLPI"
    },
    {
      "type": "improvement",
      "description": "Suppression des champs redondants (enable_daily_alerts, enable_weekly_alerts, check_frequency_hours)"
    },
    {
      "type": "improvement",
      "description": "Contrôle d'activation uniquement via Actions automatiques GLPI (plus de confusion)"
    },
    {
      "type": "improvement",
      "description": "Affichage correct du nombre d'imprimantes dans les logs (11 au lieu de 1)"
    },
    {
      "type": "improvement",
      "description": "Correction du double pourcentage dans les notifications (20% au lieu de 20%%)"
    },
    {
      "type": "improvement",
      "description": "Désinstallation propre : nettoyage complet de glpi_configs, notifications et templates"
    },
    {
      "type": "improvement",
      "description": "Actions automatiques activées par défaut lors de l'installation"
    },
    {
      "type": "fix",
      "description": "Correction de la liaison templates/notifications lors de l'installation (utilisation correcte de getFromDBByCrit)"
    },
    {
      "type": "fix",
      "description": "Ajout de printer_model_id aux données d'alerte pour permettre la recherche des références de cartouches"
    },
    {
      "type": "feature",
      "description": "Surveillance automatique des niveaux de toners via SNMP (NetInventory)"
    },
    {
      "type": "feature",
      "description": "Système d'alertes progressives : journalières (3 max) puis hebdomadaires"
    },
    {
      "type": "feature",
      "description": "Gestion des alertes par toner individuel (pas par imprimante)"
    },
    {
      "type": "feature",
      "description": "Interface de configuration complète avec seuils personnalisables"
    },
    {
      "type": "feature",
      "description": "Système d'exclusion d'imprimantes problématiques"
    },
    {
      "type": "feature",
      "description": "3 CronTasks automatiques : CheckTonerLevels (4x/jour), SendDailyAlerts (matin), SendWeeklyRecap (vendredi 12h)"
    },
    {
      "type": "feature",
      "description": "Notifications intelligentes via QueuedNotification GLPI avec balises dynamiques"
    },
    {
      "type": "feature",
      "description": "Affichage automatique des références de cartouches dans les alertes"
    },
    {
      "type": "feature",
      "description": "Compteurs d'alertes avec indication 'Alerte X/3' dans chaque notification"
    },
    {
      "type": "feature",
      "description": "Reset automatique des compteurs quand les niveaux redeviennent normaux"
    },
    {
      "type": "feature",
      "description": "Support multi-marques avec mapping SNMP intelligent"
    },
    {
      "type": "feature",
      "description": "Historique complet des alertes dans base de données"
    },
    {
      "type": "feature",
      "description": "3 tables dédiées : excludedprinters, states, alerts"
    },
    {
      "type": "feature",
      "description": "Support de tous types de consommables : toners (CMJN), drums (CMJN)"
    },
    {
      "type": "documentation",
      "description": "README complet et présentable pour GitHub"
    },
    {
      "type": "documentation",
      "description": "Guide d'installation détaillé (INSTALL.md)"
    },
    {
      "type": "documentation",
      "description": "CHANGELOG avec format Keep a Changelog"
    },
    {
      "type": "improvement",
      "description": "Localisation française complète (fr_FR)"
    },
    {
      "type": "improvement",
      "description": "Licence GPLv3+ complète incluse"
    },
    {
      "type": "improvement",
      "description": "Architecture PSR-4 avec autoloading"
    }
  ]
}
